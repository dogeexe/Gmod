@name ACF do Doge v3.2 Last Public Version
@inputs Pod:wirelink Engine:entity
@outputs Throttle Gear On Brake
@persist [StartSound_Path HornSound_path]:string
 
interval(100)
 
W = Pod["W",number]
S = Pod["S",number]
Space = Pod["Space",number]
Alt = Pod["Alt",number]
Start = Pod["R",number]

StartSound_Path = "acf_extra/vehiclefx/starters/starter3.wav"
HornSound_Path = "acf_extra/vehiclefx/horn/horn0.wav"

# ========================== Gear =================================
 
if(W == 1)
{ if(Gear == 6) { Gear = 1 Throttle = 100 } else { Throttle = 100 }
}
else
{ Throttle = 0
}
 
if(S == 1)
{ Gear = 6 Throttle = 100
}

# ========================= Start Engine ============================

if (changed(Start) & Start){
    if( On )
    {
        On = 0
    }
    else
    {
        Engine:soundPlay("Engine",0,StartSound_Path)
        timer("EngineOn",1100)
    }
}
if( clk("EngineOn") )
{
    soundStop("Engine")
    On = 1
}

# ======================== Horn ==================================

if( changed(Alt) & Alt ){
    Engine:soundPlay(3,0,HornSound_Path)
}

# ======================== Breake ===================================

if(Space){Brake=5}else{Brake=0}
